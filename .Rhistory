dat <- read.csv("~/data/2016_veg_master.csv") %>%
filter(year ==2016,
averagewater <=900,
averagewater >=0,
!is.na(averagewater)) %>%
mutate(tall = perennial)%>%
left_join(impound_treatments, by="impound") %>%
bind_rows(dat14, dat15)
summary(dat$year)
nrow(dat14)
nrow(dat15)
nrow(dat)
2545 + 2679
dat <- read.csv("~/data/2016_veg_master.csv") %>%
filter(year ==2016,
averagewater <=900,
averagewater >=0,
!is.na(averagewater)) %>%
mutate(tall = perennial)%>%
left_join(impound_treatments, by="impound") %>%
bind_rows(dat14, dat15) %>%
mutate(rounda = paste0("round ",round))
head(dat)
ggplot(data=dat, aes(x=treat))+
geom_boxplot(aes(x=treat, y=averagewater, fill=treat))+
facet_wrap(~rounda, ncol=4)+
ylab("Average Water Depth (cm)")+
scale_fill_manual(values=treatmentcolors)+
theme(legend.position = "none",
legend.direction= "horizontal",
legend.title=element_blank(),
axis.text = element_text(colour="black", size=10),
axis.title.x = element_blank(),
plot.background = element_rect(fill = "white" ), #plot background color
panel.background = element_rect(fill = "white"), #panel background color
panel.grid.major.y= element_line(colour=NA), #y axis grid line color
panel.grid.major.x = element_line(colour=NA),
panel.grid.minor = element_line(colour=NA),
axis.line=element_line(colour="black"),
strip.background=element_rect(fill="white", color="black"),
strip.text=element_text(size=15))
head(dat)
dat14 <- read.csv('~/data/all_veg.csv',header=T, stringsAsFactors = FALSE) %>%
filter(year ==2014,
averagewater <=900,
averagewater >=0,
!is.na(averagewater)) %>%
mutate(tall = tall + pcgrass) %>%
left_join(impound_treatments[,c("impound","treat14")], by="impound") %>%
mutate(treat = treat14) %>%
select(-treat14)
head(dat14)
dat15 <- read.csv('~/data/all_veg.csv',header=T, stringsAsFactors = FALSE) %>%
filter(year ==2015,
averagewater <=900,
averagewater >=0,
!is.na(averagewater)) %>%
mutate(tall = tall + pcgrass)%>%
left_join(impound_treatments[,c("impound","treat15")], by="impound") %>%
mutate(treat = treat15) %>%
select(-treat15)
dat <- read.csv("~/data/2016_veg_master.csv") %>%
filter(year ==2016,
averagewater <=900,
averagewater >=0,
!is.na(averagewater)) %>%
mutate(tall = perennial)%>%
left_join(impound_treatments[,c("impound","treat16")], by="impound") %>%
mutate(treat = treat16) %>%
select(-treat16) %>%
bind_rows(dat14, dat15) %>%
mutate(rounda = paste0("round ",round))
head(dat)
summary(dat)
table(dat$treat)
ggplot(data=dat, aes(x=treat))+
geom_boxplot(aes(x=treat, y=averagewater, fill=treat))+
facet_wrap(~rounda, ncol=4)+
ylab("Average Water Depth (cm)")+
scale_fill_manual(values=treatmentcolors)+
theme(legend.position = "none",
legend.direction= "horizontal",
legend.title=element_blank(),
axis.text = element_text(colour="black", size=10),
axis.title.x = element_blank(),
plot.background = element_rect(fill = "white" ), #plot background color
panel.background = element_rect(fill = "white"), #panel background color
panel.grid.major.y= element_line(colour=NA), #y axis grid line color
panel.grid.major.x = element_line(colour=NA),
panel.grid.minor = element_line(colour=NA),
axis.line=element_line(colour="black"),
strip.background=element_rect(fill="white", color="black"),
strip.text=element_text(size=15))
dat %>% filter(treat!="control") %>% ggplot(aes(x=treat))+
geom_boxplot(aes(x=treat, y=averagewater, fill=treat))+
facet_wrap(~rounda, ncol=4)+
ylab("Average Water Depth (cm)")+
scale_fill_manual(values=treatmentcolors)+
theme(legend.position = "none",
legend.direction= "horizontal",
legend.title=element_blank(),
axis.text = element_text(colour="black", size=10),
axis.title.x = element_blank(),
plot.background = element_rect(fill = "white" ), #plot background color
panel.background = element_rect(fill = "white"), #panel background color
panel.grid.major.y= element_line(colour=NA), #y axis grid line color
panel.grid.major.x = element_line(colour=NA),
panel.grid.minor = element_line(colour=NA),
axis.line=element_line(colour="black"),
strip.background=element_rect(fill="white", color="black"),
strip.text=element_text(size=15))
dat <- read.csv("~/data/2016_surveys.csv") %>%
left_join(impound_treatments[,c("impound","treat16")], by="impound") %>%
mutate(shr = sora/time)
dat <- read.csv("~/data/surveys_2016.csv") %>%
left_join(impound_treatments[,c("impound","treat16")], by="impound") %>%
mutate(shr = sora/time)
dat <- read.csv("~/data/surveys_2016.csv") %>%
left_join(impound_treatments[,c("impound","treat16")], by="impound") %>%
mutate(shr = sora/time) %>%
select(area, treat, shr, impound, region, round)
mdat <- melt(dat, id=c("area","treat","impound","region","round"))
mdat$rounda <- paste0("round ", mdat$round)
mdat %>% filter(treat!="control") %>%
ggplot()+
geom_boxplot(aes(treat,value,fill=treat))+
facet_wrap(~rounda, ncol=4)+
ylab("Sora per hour")+
xlab("Treatment")+
scale_fill_manual(name = "Flooding \nTreatment",breaks=c("early", "late"), labels=c("Early", "Late"), values=treatmentcolors)+
theme(plot.title = element_text(colour="black",size=8), #plot title
axis.text.x = element_text(colour="black", size=12), #x axis labels
axis.text.y = element_text(colour="black",size=10), #y axis labels
axis.title.x = element_text(colour="black", size=12, vjust=-.5), #x axis title
axis.title.y = element_text(colour="black",size=12), #y axis title
legend.position="none",
plot.background = element_rect(fill = "transparent",colour = NA), #plot background color
panel.background = element_rect(fill = "transparent",colour = NA), #panel background color
panel.grid.major.y= element_line(colour=NA), #y axis grid line color
panel.grid.major.x = element_line(colour=NA),
panel.grid.minor = element_line(colour=NA),
axis.line=element_line(color="black"),
strip.background=element_rect(fill="white", color="black"),
strip.text=element_text(size=15))
head(mdat)
mdat %>% filter(treat!="c") %>%
ggplot()+
geom_boxplot(aes(treat,value,fill=treat))+
facet_wrap(~rounda, ncol=4)+
ylab("Sora per hour")+
xlab("Treatment")+
scale_fill_manual(name = "Flooding \nTreatment",breaks=c("early", "late"), labels=c("Early", "Late"), values=treatmentcolors)+
theme(plot.title = element_text(colour="black",size=8), #plot title
axis.text.x = element_text(colour="black", size=12), #x axis labels
axis.text.y = element_text(colour="black",size=10), #y axis labels
axis.title.x = element_text(colour="black", size=12, vjust=-.5), #x axis title
axis.title.y = element_text(colour="black",size=12), #y axis title
legend.position="none",
plot.background = element_rect(fill = "transparent",colour = NA), #plot background color
panel.background = element_rect(fill = "transparent",colour = NA), #panel background color
panel.grid.major.y= element_line(colour=NA), #y axis grid line color
panel.grid.major.x = element_line(colour=NA),
panel.grid.minor = element_line(colour=NA),
axis.line=element_line(color="black"),
strip.background=element_rect(fill="white", color="black"),
strip.text=element_text(size=15))
unique(mdat$treat)
mdat %>% filter(treat!="c"|"c ") %>%
ggplot()+
geom_boxplot(aes(treat,value,fill=treat))+
facet_wrap(~rounda, ncol=4)+
ylab("Sora per hour")+
xlab("Treatment")+
scale_fill_manual(name = "Flooding \nTreatment",breaks=c("early", "late"), labels=c("Early", "Late"), values=treatmentcolors)+
theme(plot.title = element_text(colour="black",size=8), #plot title
axis.text.x = element_text(colour="black", size=12), #x axis labels
axis.text.y = element_text(colour="black",size=10), #y axis labels
axis.title.x = element_text(colour="black", size=12, vjust=-.5), #x axis title
axis.title.y = element_text(colour="black",size=12), #y axis title
legend.position="none",
plot.background = element_rect(fill = "transparent",colour = NA), #plot background color
panel.background = element_rect(fill = "transparent",colour = NA), #panel background color
panel.grid.major.y= element_line(colour=NA), #y axis grid line color
panel.grid.major.x = element_line(colour=NA),
panel.grid.minor = element_line(colour=NA),
axis.line=element_line(color="black"),
strip.background=element_rect(fill="white", color="black"),
strip.text=element_text(size=15))
mdat %>% filter(treat!="c"|"c ")
mdat %>% filter(treat!="c"|treat!="c ")
mdat %>% filter(treat!="c"|treat!="c ") %>%
ggplot()+
geom_boxplot(aes(treat,value,fill=treat))+
facet_wrap(~rounda, ncol=4)+
ylab("Sora per hour")+
xlab("Treatment")+
scale_fill_manual(name = "Flooding \nTreatment",breaks=c("early", "late"), labels=c("Early", "Late"), values=treatmentcolors)+
theme(plot.title = element_text(colour="black",size=8), #plot title
axis.text.x = element_text(colour="black", size=12), #x axis labels
axis.text.y = element_text(colour="black",size=10), #y axis labels
axis.title.x = element_text(colour="black", size=12, vjust=-.5), #x axis title
axis.title.y = element_text(colour="black",size=12), #y axis title
legend.position="none",
plot.background = element_rect(fill = "transparent",colour = NA), #plot background color
panel.background = element_rect(fill = "transparent",colour = NA), #panel background color
panel.grid.major.y= element_line(colour=NA), #y axis grid line color
panel.grid.major.x = element_line(colour=NA),
panel.grid.minor = element_line(colour=NA),
axis.line=element_line(color="black"),
strip.background=element_rect(fill="white", color="black"),
strip.text=element_text(size=15))
str(mdat$treat)
dat <- read.csv("~/data/surveys_2016.csv", stringsAsFactors = FALSE) %>%
left_join(impound_treatments[,c("impound","treat16")], by="impound") %>%
mutate(shr = sora/time) %>%
select(area, treat, shr, impound, region, round)
mdat <- melt(dat, id=c("area","treat","impound","region","round"))
mdat$rounda <- paste0("round ", mdat$round)
mdat %>% filter(treat!="c"|treat!="c ") %>%
ggplot()+
geom_boxplot(aes(treat,value,fill=treat))+
facet_wrap(~rounda, ncol=4)+
ylab("Sora per hour")+
xlab("Treatment")+
scale_fill_manual(name = "Flooding \nTreatment",breaks=c("early", "late"), labels=c("Early", "Late"), values=treatmentcolors)+
theme(plot.title = element_text(colour="black",size=8), #plot title
axis.text.x = element_text(colour="black", size=12), #x axis labels
axis.text.y = element_text(colour="black",size=10), #y axis labels
axis.title.x = element_text(colour="black", size=12, vjust=-.5), #x axis title
axis.title.y = element_text(colour="black",size=12), #y axis title
legend.position="none",
plot.background = element_rect(fill = "transparent",colour = NA), #plot background color
panel.background = element_rect(fill = "transparent",colour = NA), #panel background color
panel.grid.major.y= element_line(colour=NA), #y axis grid line color
panel.grid.major.x = element_line(colour=NA),
panel.grid.minor = element_line(colour=NA),
axis.line=element_line(color="black"),
strip.background=element_rect(fill="white", color="black"),
strip.text=element_text(size=15))
strmdat
str(mdat)
mdat %>% filter(treat!="c"|treat!="c ") %>%
ggplot()+
geom_boxplot(aes(treat,value,fill=treat))+
facet_wrap(~rounda, ncol=4)+
ylab("Sora per hour")+
xlab("Treatment")+
scale_fill_manual(name = "Flooding \nTreatment",breaks=c("e", "l"), labels=c("Early", "Late"), values=treatmentcolors)+
theme(plot.title = element_text(colour="black",size=8), #plot title
axis.text.x = element_text(colour="black", size=12), #x axis labels
axis.text.y = element_text(colour="black",size=10), #y axis labels
axis.title.x = element_text(colour="black", size=12, vjust=-.5), #x axis title
axis.title.y = element_text(colour="black",size=12), #y axis title
legend.position="none",
plot.background = element_rect(fill = "transparent",colour = NA), #plot background color
panel.background = element_rect(fill = "transparent",colour = NA), #panel background color
panel.grid.major.y= element_line(colour=NA), #y axis grid line color
panel.grid.major.x = element_line(colour=NA),
panel.grid.minor = element_line(colour=NA),
axis.line=element_line(color="black"),
strip.background=element_rect(fill="white", color="black"),
strip.text=element_text(size=15))
mdat %>% filter(treat!="c"|treat!="c ")
mdat %>% filter(treat!="c"|treat!="c ") %>% unique(treat)
datdat <-
mdat %>% filter(treat!="c"|treat!="c ")
unique(datdat$treat)
mdat %>% filter(treat!="c"&treat!="c ") %>%
ggplot()+
geom_boxplot(aes(treat,value,fill=treat))+
facet_wrap(~rounda, ncol=4)+
ylab("Sora per hour")+
xlab("Treatment")+
scale_fill_manual(name = "Flooding \nTreatment",breaks=c("e", "l"), labels=c("Early", "Late"), values=treatmentcolors)+
theme(plot.title = element_text(colour="black",size=8), #plot title
axis.text.x = element_text(colour="black", size=12), #x axis labels
axis.text.y = element_text(colour="black",size=10), #y axis labels
axis.title.x = element_text(colour="black", size=12, vjust=-.5), #x axis title
axis.title.y = element_text(colour="black",size=12), #y axis title
legend.position="none",
plot.background = element_rect(fill = "transparent",colour = NA), #plot background color
panel.background = element_rect(fill = "transparent",colour = NA), #panel background color
panel.grid.major.y= element_line(colour=NA), #y axis grid line color
panel.grid.major.x = element_line(colour=NA),
panel.grid.minor = element_line(colour=NA),
axis.line=element_line(color="black"),
strip.background=element_rect(fill="white", color="black"),
strip.text=element_text(size=15))
birds16 <- read.csv("~/data/2016_birds_master.csv")
round(((nrow(birds16[birds16$flush_walk=="F",])/nrow(birds16))*100), digits=2)
dat16 <- read.csv("~/data/surveys_2016.csv", stringsAsFactors = FALSE) %>%
select(impound, kira, sora, vira, yera, round, area)
dat <- read.csv("~/data/all_surveys.csv",header=T)
dat12 <- dat[dat$year==2012,c("impound","kira","sora","vira","yera","round","area")]
dat13 <- dat[dat$year==2013,c("impound","kira","sora","vira","yera","round","area")]
dat14 <- dat[dat$year==2014,c("impound","kira","sora","vira","yera","round","area")]
dat15 <- dat[dat$year==2015,c("impound","kira","sora","vira","yera","round","area")]
dat16 <- read.csv("~/data/surveys_2016.csv", stringsAsFactors = FALSE) %>%
select(impound, kira, sora, vira, yera, round, area)
m12<- melt(dat12, id=c("round", "impound", "area"))
m12$year <- 2012
m13<- melt(dat13, id=c("round", "impound", "area"))
m13$year <- 2013
m14<- melt(dat14, id=c("round", "impound", "area"))
m14$year <- 2014
m15<- melt(dat15, id=c("round", "impound", "area"))
m15$year <- 2015
m16 <- melt(dat16, id=c("round","impound","area"))
m16$year <- 2016
colnames(m15) <- colnames(m14)
mm <- rbind(m12, m13, m14,m15, m16)
areas <- c("nvca","scnwr","slnwr","fgca","tsca","ccnwr","bkca","osca","dcca","tmpca")
areadata <- list()
for(i in areas){
areadata[[i]] <- subset(mm, area==i)
}
areatables <- list()
for(i in areas){
areatables[[i]] <- cast(impound + year ~ variable + round, data=areadata[[i]], fill=NA_real_, sum, margins=c("variable","round","grand_col","grand_row","impound","year"))
}
scc <- areatables[["scnwr"]]
split <- data.frame(matrix(ncol=2,nrow=(ncol(scc))))
split$col <- colnames(scc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
scc$year <- as.character(scc$year)
scc$impound <- as.character(scc$impound)
scc <- rbind(as.character(df$name$X2),scc)
names <- as.character(df$name$X1)
colnames(scc) <- names
scc
scc$impound <- c("round","north","mallard",NA,NA,NA,"msu 2",NA,NA,"msu 3",NA,NA,"snow" ,"goose","B",NA,NA,"C",NA,"D",NA,NA,NA,"E",NA,"(all)")
scc$impound <- c("round","north","mallard",NA,NA,NA,"msu 2",NA,NA,NA,"msu 3",NA,NA,NA,"snow" ,"goose","B",NA,NA,NA,"C",NA,"D",NA,NA,NA,NA,"E",NA,"(all)")
scc
scc[1,2] <- NA
scc <- areatables[["scnwr"]]
split <- data.frame(matrix(ncol=2,nrow=(ncol(scc))))
split$col <- colnames(scc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
scc$year <- as.character(scc$year)
scc$impound <- as.character(scc$impound)
scc <- rbind(as.character(df$name$X2),scc)
names <- as.character(df$name$X1)
colnames(scc) <- names
scc$impound <- c("round","north","mallard",NA,NA,NA,"msu 2",NA,NA,NA,"msu 3",NA,NA,NA,"snow" ,"goose","B",NA,NA,NA,"C",NA,"D",NA,NA,NA,NA,"E",NA,"(all)")
scc[1,2] <- NA
print(xtable(scc[c(1:4,7:nrow(scc)),], digits=0), type = 'latex', include.rownames=F, comment=F, include.colnames=T,size = 'small',hline.after=c(1,4,7,10,15,17,21,23,24), rotate.colnames=TRUE)
nvc <- areatables[["nvca"]]
split <- data.frame(matrix(ncol=2,nrow=(ncol(nvc))))
split$col <- colnames(nvc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(split$col), '_', fixed=TRUE))))
years <- as.character(df$name$X2)
nvc$impound <- as.character(nvc$impound)
nvc$year <- as.character(nvc$year)
nvc <- rbind(years,nvc)
names <- as.character(df$name$X1)
colnames(nvc) <- names
nvc
nvc$impound <- c("round","ash",NA,NA,NA,NA,NA,"rail",NA,NA,NA,"redhead",NA,NA,"sanctuary",NA,NA,NA,NA,NA,"(all)")
nvc$impound <- c("round","ash",NA,NA,NA,NA,NA,"rail",NA,NA,NA,"redhead",NA,"sanctuary",NA,NA,NA,NA,NA,"(all)")
nvc
slc <- areatables[["slnwr"]]
split <- data.frame(matrix(ncol=2,nrow=(ncol(slc))))
split$col <- colnames(slc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
years <- as.character(df$name$X2)
slc$year <- as.character(slc$year)
slc$impound <- as.character(slc$impound)
slc <- rbind(years,slc)
names <- as.character(df$name$X1)
colnames(slc) <- names
slc$impound <- c("round","m10",NA,NA,NA,NA,NA,"m11",NA,NA,NA,NA,NA,"m13",NA,NA,NA,"m14",NA,"m3",NA,"m4",NA,NA,"m5",NA,NA,NA,NA,NA,"(all)")
fgc <- areatables[["fgca"]]
split <- data.frame(matrix(ncol=2,nrow=(ncol(fgc))))
split$col <- colnames(fgc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
years <- as.character(df$name$X2)
fgc$year <- as.character(fgc$year)
fgc$impound <- as.character(fgc$impound)
fgc<- rbind(years,fgc)
names <- as.character(df$name$X1)
colnames(fgc) <- names
fgc
fgc$impound <- c("round","boardwalk",NA,"pool 1",NA,"pool 2",NA,NA,NA,NA,NA,"pool 2","walk-in",NA,NA,NA,"pool 3",NA,"pool 3","walk-in",NA,"(all)")
osc <- areatables[["osca"]]
split <- data.frame(matrix(ncol=2,nrow=(ncol(osc))))
split$col <- colnames(osc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
years <- as.character(df$name$X2)
osc$year <- as.character(osc$year)
osc$impound <- as.character(osc$impound)
osc <- rbind(years,osc)
names <- as.character(df$name$X1)
colnames(osc) <- names
osc
osc$impound <- c("round",21,NA,NA,NA,NA,NA,23,NA,NA,25,NA,NA,"r3",NA,NA,"r4/5",NA,NA,"r7",NA,NA,NA,"r8",NA,"r9",NA,"(all)")
osc$impound <- c("round",21,NA,NA,NA,NA,NA,23,NA,NA,NA,25,NA,NA,"r3",NA,NA,"r4/5",NA,NA,"r7",NA,NA,NA,"r8",NA,"r9",NA,"(all)")
scc <- areatables[["scnwr"]]
split <- data.frame(matrix(ncol=2,nrow=(ncol(scc))))
split$col <- colnames(scc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
scc$year <- as.character(scc$year)
scc$impound <- as.character(scc$impound)
scc <- rbind(as.character(df$name$X2),scc)
names <- as.character(df$name$X1)
colnames(scc) <- names
head(scc)
which(scc$year=="(all)")
scc
scc <- areatables[["scnwr"]]
split <- data.frame(matrix(ncol=2,nrow=(ncol(scc))))
split$col <- colnames(scc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
scc$year <- as.character(scc$year)
scc$impound <- as.character(scc$impound)
scc <- rbind(as.character(df$name$X2),scc)
names <- as.character(df$name$X1)
colnames(scc) <- names
scc <- scc %>% filter(ipmound != "n.pintail")
scc <- areatables[["scnwr"]]
split <- data.frame(matrix(ncol=2,nrow=(ncol(scc))))
split$col <- colnames(scc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
scc$year <- as.character(scc$year)
scc$impound <- as.character(scc$impound)
scc <- rbind(as.character(df$name$X2),scc)
names <- as.character(df$name$X1)
colnames(scc) <- names
scc <- scc %>% filter(impound != "n.pintail")
head(scc)
scc <- areatables[["scnwr"]]
head(scc)
scc <- scc %>% filter(impound != "n.pintail")
scc <- areatables[["scnwr"]]
scc <- scc %>% filter(impound != "n.pintail")
split <- data.frame(matrix(ncol=2,nrow=(ncol(scc))))
split$col <- colnames(scc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
scc$year <- as.character(scc$year)
scc$impound <- as.character(scc$impound)
scc <- rbind(as.character(df$name$X2),scc)
names <- as.character(df$name$X1)
colnames(scc) <- names
scc$impound <- c("round","north","mallard",NA,"msu 2",NA,NA,NA,"msu 3",NA,NA,NA,"snow" ,"goose","B",NA,NA,NA,"C",NA,"D",NA,NA,NA,NA,"E",NA,"(all)")
scc
scc <- areatables[["scnwr"]]
scc <- scc %>% filter(impound != "n. pintail")
split <- data.frame(matrix(ncol=2,nrow=(ncol(scc))))
split$col <- colnames(scc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
scc$year <- as.character(scc$year)
scc$impound <- as.character(scc$impound)
scc <- rbind(as.character(df$name$X2),scc)
names <- as.character(df$name$X1)
colnames(scc) <- names
scc
scc$impound <- c("round","north","mallard",NA,"msu 2",NA,NA,NA,"msu 3",NA,NA,NA,"snow" ,"goose","B",NA,NA,NA,"C",NA,"D",NA,NA,NA,NA,"E",NA,"(all)")
scc[1,2] <- NA
linerows <- c(1, which(scc$year=="(all)"))
linerows
print(xtable(scc[c(1:4,7:nrow(scc)),], digits=0), type = 'latex', include.rownames=F, comment=F, include.colnames=T,size = 'small',hline.after=linerows, rotate.colnames=TRUE)
nrow(scc)
print(xtable(scc[c(1:4,7:nrow(scc)),], digits=0), type = 'latex', include.rownames=F, comment=F, include.colnames=T,size = 'small',hline.after=c(1, which(scc$year=="(all)")) , rotate.colnames=TRUE)
which(scc$year=="(all)"))
which(scc$year=="(all)")
nrow(scc)
print(xtable(scc[c(1:4,7:nrow(scc)),], digits=0), type = 'latex', include.rownames=F, comment=F, include.colnames=T,size = 'small',hline.after=c(1,4,8,12,18,20,25,27,28),#c(1, which(scc$year=="(all)")) ,
rotate.colnames=TRUE)
print(xtable(scc[c(1:4,7:nrow(scc)),], digits=0), type = 'latex', include.rownames=F, comment=F, include.colnames=T,size = 'small',hline.after=c(1,4,8,12,18,20,25,27),#c(1, which(scc$year=="(all)")) ,
rotate.colnames=TRUE)
nvc <- areatables[["nvca"]]
split <- data.frame(matrix(ncol=2,nrow=(ncol(nvc))))
split$col <- colnames(nvc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(split$col), '_', fixed=TRUE))))
years <- as.character(df$name$X2)
nvc$impound <- as.character(nvc$impound)
nvc$year <- as.character(nvc$year)
nvc <- rbind(years,nvc)
names <- as.character(df$name$X1)
colnames(nvc) <- names
nvc$impound <- c("round","ash",NA,NA,NA,NA,NA,"rail",NA,NA,NA,"redhead",NA,"sanctuary",NA,NA,NA,NA,NA,"(all)")
nrow(nvc)
print(xtable(scc, digits=0), type = 'latex', include.rownames=F, comment=F, include.colnames=T,size = 'small',hline.after=c(1,4,8,12,18,20,25,27),#c(1, which(scc$year=="(all)")) ,
rotate.colnames=TRUE)
print(xtable(scc, digits=0), type = 'latex', include.rownames=F, comment=F, include.colnames=T,size = 'small',hline.after=c(1, which(scc$year=="(all)")) ,
rotate.colnames=TRUE)
slc <- areatables[["slnwr"]]
split <- data.frame(matrix(ncol=2,nrow=(ncol(slc))))
split$col <- colnames(slc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
years <- as.character(df$name$X2)
slc$year <- as.character(slc$year)
slc$impound <- as.character(slc$impound)
slc <- rbind(years,slc)
names <- as.character(df$name$X1)
colnames(slc) <- names
slc$impound <- c("round","m10",NA,NA,NA,NA,NA,"m11",NA,NA,NA,NA,NA,"m13",NA,NA,NA,"m14",NA,"m3",NA,"m4",NA,NA,"m5",NA,NA,NA,NA,NA,"(all)")
slc
slc <- areatables[["slnwr"]]
slc <- slc %>% filter(impound!="m4")
split <- data.frame(matrix(ncol=2,nrow=(ncol(slc))))
split$col <- colnames(slc)
df <- within(split, name<-data.frame(do.call('rbind', strsplit(as.character(col), '_', fixed=TRUE))))
years <- as.character(df$name$X2)
slc$year <- as.character(slc$year)
slc$impound <- as.character(slc$impound)
slc <- rbind(years,slc)
names <- as.character(df$name$X1)
colnames(slc) <- names
slc$impound <- c("round","m10",NA,NA,NA,NA,NA,"m11",NA,NA,NA,NA,NA,"m13",NA,NA,NA,"m14",NA,"m3",NA,"m5",NA,NA,NA,NA,NA,"(all)")
print(xtable(slc, digits=0), type = 'latex',include.colnames=T, include.rownames=F, comment=F,rotate.colnames=TRUE, size = 'small',hline.after=c(1, which(slc$year=="(all)")) )
dat<- read.csv('~/data/2016_birds_master.csv',header=T)
dat <- dat[dat$year==2016,]
